{% include head.html %}

<style type="text/css">
  main {
    display: flex;
    flex-direction: column;

    & > h2,
    & > h3,
    & > h4,
    & > p {
      padding: 0 var(--margin-content-x);
    }

    & h2 {
      font-size: var(--font-tale-h2);
    }

    & h3 {
      font-size: var(--font-tale-h3);
      padding-top: 2rem;
    }

    & h4 {
      font-size: var(--font-tale-h4);
      margin: 2rem 0 0;
    }

    & p {
      font-size: var(--font-tale-p);
    }

    & p:not(:has(small)) {
      line-height: 150%;
      margin: 1rem 0;
    }

    & p:has(small) {
      font-weight: 300;
    }

    & div.music {
      display: flex;
      flex-direction: column;
      padding: 0 var(--margin-content-x);

      & small {
        font-size: var(--font-tale-p);
        font-weight: 300;
      }

      & audio {
        margin: 1rem 0 0;
      }
    }

    & div.album {
      display: flex;
      flex-direction: row;
      padding: 1rem var(--margin-content-x) 0;
      gap: 2rem;

      @media (max-width: 980px) {
        flex-direction: column;
      }

      & div.cover {
        flex-shrink: 0;

        @media (max-width: 980px) {
          & img {
            width: 100%;
          }
        }
      }

      & div.description {
        display: flex;
        flex-direction: column;
        justify-content: space-between;

        & p.quote {
          align-self: flex-end;
        }
      }
    }

    & details {
      margin: 1rem 0 0;
      border-left: 0.25rem var(--color-primary-pure) solid;

      & summary,
      & p {
        padding: 0 1rem;
      }

      & summary {
        font-size: var(--font-tale-p);
      }

      & p {
        line-height: 100%;
        padding: 0 1rem;
      }
    }
  }
</style>

<body>
  {% include header.html %}

  <main>{{ content }}</main>

  {% include footer.html %}
</body>

<script>
  const audioElements = document.querySelectorAll("audio");
  let currentAudioIndex = 0;

  function playAudios() {
    playAudio(currentAudioIndex);
  }

  function playAudio(index) {
    if (index < audioElements.length) {
      const audioElement = audioElements[index];
      audioElement.play();
      audioElement.addEventListener("ended", function () {
        currentAudioIndex++;
        playAudio(currentAudioIndex);
      });
    }
  }
</script>
